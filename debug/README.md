# Debug Scripts

WebRequestTimerアプリケーションのデバッグ・診断用スクリプト集です。

## スクリプト一覧

### 📊 check_db.py
データベースの内容を確認するスクリプト

**機能:**
- リクエスト履歴の表示（最新5件）
- スケジュール統計の表示
- データベーステーブルの一覧表示

**使用方法:**
```bash
python debug/check_db.py
```

**出力例:**
- リクエストの成功/失敗状況
- レスポンス内容（JSON形式で整形表示）
- 応答時間、ステータスコード
- 統計情報（総リクエスト数、成功率など）

---

### ⚙️ check_config.py
設定ファイルの妥当性をチェックするスクリプト

**機能:**
- config.jsonの内容表示
- 設定の妥当性検証
- 設定ファイルのバックアップ作成

**使用方法:**
```bash
# 設定確認
python debug/check_config.py

# バックアップ作成
python debug/check_config.py backup
```

**チェック項目:**
- 必須フィールドの存在確認
- URL形式の妥当性
- スケジュール設定の整合性
- JSON構文エラーの検出

---

### 🔍 system_info.py
システム情報とプロセス監視スクリプト

**機能:**
- システムリソース情報の表示
- WebRequestTimerプロセスの検索
- ネットワーク接続状況の確認
- ログファイルの状態確認

**使用方法:**
```bash
python debug/system_info.py
```

**注意:** このスクリプトは`psutil`パッケージが必要です。
```bash
pip install psutil
```

**出力情報:**
- CPU・メモリ・ディスク使用率
- 実行中のプロセス情報
- UDPポート12345の監視状況
- ログファイルのサイズと更新時刻

---

## 実行前の準備

1. **Python環境の確認**
   ```bash
   python --version
   ```

2. **必要なパッケージのインストール**
   ```bash
   pip install psutil
   ```

3. **作業ディレクトリの確認**
   プロジェクトのルートディレクトリから実行してください。

## トラブルシューティング

### データベースファイルが見つからない場合
- アプリケーションが一度も実行されていない可能性があります
- `main.py`を実行してからデバッグスクリプトを使用してください

### パッケージが見つからない場合
```bash
pip install -r requirements.txt
```

### 権限エラーが発生する場合
- システム診断スクリプトは管理者権限が必要な場合があります
- PowerShellを管理者として実行してください

## 出力ファイル

これらのスクリプトは以下のファイルを作成する場合があります：
- `config_backup_YYYYMMDD_HHMMSS.json` - 設定ファイルのバックアップ

---

**作成日:** 2025-10-09
**最終更新:** 2025-10-09
